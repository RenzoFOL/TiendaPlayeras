@using TiendaPlayeras.Web.Models
@{
    ViewData["Title"] = "Inicio - Tienda de Playeras";
    var newArrivals = ViewBag.NewArrivals as List<Product> ?? new();
    var bestSellers = ViewBag.BestSellers as List<Product> ?? new();
    var categories = ViewBag.Categories as List<Category> ?? new();
}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="author" content="TiendaPlayeras">
    <meta name="keywords" content="playeras,camisetas,ropa,moda">
    <meta name="description" content="Tienda de playeras y camisetas con los mejores diseños">
    <title>@ViewData["Title"]</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
    <link rel="stylesheet" href="~/css/home.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&family=Marcellus&display=swap" rel="stylesheet">
</head>

<body class="homepage">
    <!-- SVG Definitions -->
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <defs>
            <symbol id="instagram" viewBox="0 0 15 15"><path fill="none" stroke="currentColor" d="M11 3.5h1M4.5.5h6a4 4 0 0 1 4 4v6a4 4 0 0 1-4 4h-6a4 4 0 0 1-4-4v-6a4 4 0 0 1 4-4Zm3 10a3 3 0 1 1 0-6a3 3 0 0 1 0 6Z"/></symbol>
            <symbol id="facebook" viewBox="0 0 15 15"><path fill="none" stroke="currentColor" d="M7.5 14.5a7 7 0 1 1 0-14a7 7 0 0 1 0 14Zm0 0v-8a2 2 0 0 1 2-2h.5m-5 4h5"/></symbol>
            <symbol id="twitter" viewBox="0 0 15 15"><path fill="currentColor" d="m14.478 1.5l.5-.033a.5.5 0 0 0-.871-.301l.371.334Zm-.498 2.959a.5.5 0 1 0-1 0h1Zm-6.49.082h-.5h.5Zm0 .959h.5h-.5Zm-6.99 7V12a.5.5 0 0 0-.278.916L.5 12.5Zm.998-11l.469-.175a.5.5 0 0 0-.916-.048l.447.223Zm3.994 9l.354.353a.5.5 0 0 0-.195-.827l-.159.474Zm7.224-8.027l-.37.336l.18.199l.265-.04l-.075-.495Zm1.264-.94c.051.778.003 1.25-.123 1.606c-.122.345-.336.629-.723 1l.692.722c.438-.42.776-.832.974-1.388c.193-.546.232-1.178.177-2.006l-.998.066Zm0 3.654V4.46h-1v.728h1Zm-6.99-.646V5.5h1v-.959h-1Zm0 .959V6h1v-.5h-1ZM10.525 1a3.539 3.539 0 0 0-3.537 3.541h1A2.539 2.539 0 0 1 10.526 2V1Zm2.454 4.187C12.98 9.503 9.487 13 5.18 13v1c4.86 0 8.8-3.946 8.8-8.813h-1ZM1.03 1.675C1.574 3.127 3.614 6 7.49 6V5C4.174 5 2.421 2.54 1.966 1.325l-.937.35Zm.021-.398C.004 3.373-.157 5.407.604 7.139c.759 1.727 2.392 3.055 4.73 3.835l.317-.948c-2.155-.72-3.518-1.892-4.132-3.29c-.612-1.393-.523-3.11.427-5.013l-.895-.446Zm4.087 8.87C4.536 10.75 2.726 12 .5 12v1c2.566 0 4.617-1.416 5.346-2.147l-.708-.706Zm7.949-8.009A3.445 3.445 0 0 0 10.526 1v1c.721 0 1.37.311 1.82.809l.74-.671Zm-.296.83a3.513 3.513 0 0 0 2.06-1.134l-.744-.668a2.514 2.514 0 0 1-1.466.813l.15.989ZM.222 12.916C1.863 14.01 3.583 14 5.18 14v-1c-1.63 0-3.048-.011-4.402-.916l-.556.832Z"/></symbol>
            <symbol id="heart" viewBox="0 0 24 24"><path fill="currentColor" d="M20.16 4.61A6.27 6.27 0 0 0 12 4a6.27 6.27 0 0 0-8.16 9.48l7.45 7.45a1 1 0 0 0 1.42 0l7.45-7.45a6.27 6.27 0 0 0 0-8.87Zm-1.41 7.46L12 18.81l-6.75-6.74a4.28 4.28 0 0 1 3-7.3a4.25 4.25 0 0 1 3 1.25a1 1 0 0 0 1.42 0a4.27 4.27 0 0 1 6 6.05Z"/></symbol>
            <symbol id="arrow-left" viewBox="0 0 24 24"><path fill="currentColor" d="M17 11H9.41l3.3-3.29a1 1 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33a1 1 0 0 0 0 .76a1 1 0 0 0 .21.33l5 5a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.42L9.41 13H17a1 1 0 0 0 0-2Z"/></symbol>
            <symbol id="arrow-right" viewBox="0 0 24 24"><path fill="currentColor" d="M17.92 11.62a1 1 0 0 0-.21-.33l-5-5a1 1 0 0 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1 1 0 0 0 0 1.42a1 1 0 0 0 1.42 0l5-5a1 1 0 0 0 .21-.33a1 1 0 0 0 0-.76Z"/></symbol>
            <symbol id="calendar" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><rect width="20" height="18" x="2" y="4" rx="4"/><path d="M8 2v4m8-4v4M2 10h20"/></g></symbol>
            <symbol id="shopping-bag" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3.977 9.84A2 2 0 0 1 5.971 8h12.058a2 2 0 0 1 1.994 1.84l.803 10A2 2 0 0 1 18.833 22H5.167a2 2 0 0 1-1.993-2.16l.803-10Z"/><path d="M16 11V6a4 4 0 0 0-4-4v0a4 4 0 0 0-4 4v5"/></g></symbol>
            <symbol id="gift" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><rect width="18" height="14" x="3" y="8" rx="2"/><path d="M12 5a3 3 0 1 0-3 3m6 0a3 3 0 1 0-3-3m0 0v17m9-7H3"/></g></symbol>
            <symbol id="arrow-cycle" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M22 12c0 6-4.39 10-9.806 10C7.792 22 4.24 19.665 3 16m-1-4C2 6 6.39 2 11.806 2C16.209 2 19.76 4.335 21 8"/><path d="m7 17l-4-1l-1 4M17 7l4 1l1-4"/></g></symbol>
        </defs>
    </svg>

    <!-- Preloader -->
    <div class="preloader text-white fs-6 text-uppercase overflow-hidden"></div>

    <!-- Search Popup -->
    <div class="search-popup">
        <div class="search-popup-container">
            <form role="search" method="get" class="form-group" action="">
                <input type="search" id="search-form" class="form-control border-0 border-bottom"
                      placeholder="Type and press enter" value="" name="s" />
                <button type="submit" class="search-submit border-0 position-absolute bg-white"
                        style="top: 15px;right: 15px;">
                    <svg class="search" width="24" height="24">
                        <use xlink:href="#search"></use>
                    </svg>
                </button>
            </form>
            <h5 class="cat-list-title">Browse Categories</h5>
            <ul class="cat-list">
                <li class="cat-list-item"><a href="#" title="Jackets">Jackets</a></li>
                <li class="cat-list-item"><a href="#" title="T-shirts">T-shirts</a></li>
                <li class="cat-list-item"><a href="#" title="Handbags">Handbags</a></li>
                <li class="cat-list-item"><a href="#" title="Accessories">Accessories</a></li>
            </ul>
        </div>
    </div>

    <!-- Offcanvas Cart -->
    <div class="offcanvas offcanvas-end" data-bs-scroll="true" tabindex="-1" id="offcanvasCart" aria-labelledby="My Cart">
        <div class="offcanvas-header justify-content-center">
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div class="order-md-last">
                <h4 class="d-flex justify-content-between align-items-center mb-3">
                    <span class="text-primary">Tu carrito</span>
                    <span class="badge bg-primary rounded-pill">0</span>
                </h4>
                <div class="text-center py-5">
                    <p class="text-muted">Tu carrito está vacío</p>
                    <a href="/Catalog" class="btn btn-primary">Ver productos</a>
                </div>
            </div>
        </div>
    </div>

    <main>
        <!-- Billboard/Hero Section -->
        <section id="billboard" class="bg-light py-5">
            <div class="container">
                <div class="row justify-content-center">
                    <h1 class="section-title text-center mt-4" data-aos="fade-up">Colecciones</h1>
                    <div class="col-md-6 text-center" data-aos="fade-up" data-aos-delay="300">
                        <p>Descubre nuestras playeras con los diseños más exclusivos y tendencias actuales. Calidad premium y estilo único para cada ocasión.</p>
                    </div>
                </div>
                <div class="row">
                    @foreach (var category in categories)
                    {
                        var categoryImage = ViewData[$"CategoryImage_{category.Id}"] as string ?? "/images/cat-item1.jpg";
                        
                        <div class="col-md-4">
                            <div class="cat-item image-zoom-effect">
                                <div class="image-holder">
                                    <a href="@Url.Action("ByCategory", "Catalog", new { categorySlug = category.Slug })">
                                        <img src="@categoryImage" alt="@category.Name" class="product-image img-fluid">
                                    </a>
                                </div>
                                <div class="category-content">
                                    <div class="product-button">
                                        <a href="@Url.Action("ByCategory", "Catalog", new { categorySlug = category.Slug })" 
                                           class="btn btn-common text-uppercase">@category.Name</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                </div>
                <div class="icon-arrow icon-arrow-left">
                    <svg width="50" height="50" viewBox="0 0 24 24">
                        <use xlink:href="#arrow-left"></use>
                    </svg>
                </div>
                <div class="icon-arrow icon-arrow-right">
                    <svg width="50" height="50" viewBox="0 0 24 24">
                        <use xlink:href="#arrow-right"></use>
                    </svg>
                </div>
            </div>
        </section>

        <!-- Features -->
        <section class="features py-5">
            <div class="container">
                <div class="row">
                    <div class="col-md-3 text-center" data-aos="fade-in" data-aos-delay="0">

                    </div>
                    <div class="col-md-3 text-center" data-aos="fade-in" data-aos-delay="300">
                        <div class="py-5">
                            <svg width="38" height="38" viewBox="0 0 24 24">
                                <use xlink:href="#shopping-bag"></use>
                            </svg>
                            <h4 class="element-title text-capitalize my-3">Calidad Garantizada</h4>
                            <p>Playeras de algodón 100% premium con estampados duraderos.</p>
                        </div>
                    </div>
                    <div class="col-md-3 text-center" data-aos="fade-in" data-aos-delay="600">
                        <div class="py-5">
                            <svg width="38" height="38" viewBox="0 0 24 24">
                                <use xlink:href="#gift"></use>
                            </svg>
                            <h4 class="element-title text-capitalize my-3">Devoluciones</h4>
                            <p>30 días para devoluciones si no estás satisfecho con tu compra.</p>
                        </div>
                    </div>
                    <div class="col-md-3 text-center" data-aos="fade-in" data-aos-delay="900">
                        <div class="py-5">
                   
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- New Arrivals -->
        <section id="new-arrival" class="new-arrival product-carousel py-5 position-relative overflow-hidden">
            <div class="container">
                <div class="d-flex flex-wrap justify-content-between align-items-center mt-5 mb-3">
                    <h4 class="text-uppercase">Productos</h4>
                    <a href="@Url.Action("Index","Catalog")" class="btn-link">Ver Todos los Productos</a>
                </div>
                
                @if (newArrivals.Any())
                {
                    <div class="swiper product-swiper open-up" data-aos="zoom-out">
                        <div class="swiper-wrapper d-flex">
                            @foreach (var product in newArrivals)
                            {
                                var mainImage = product.ProductImages?.FirstOrDefault()?.Path ?? "/images/placeholder.png";
                                
                                <div class="swiper-slide">
                                    <div class="product-item image-zoom-effect link-effect">
                                        <div class="image-holder position-relative">
                                            <a href="@Url.Action("Product","Catalog", new { slug = product.Slug })">
                                                <img src="@mainImage" alt="@product.Name" class="product-image img-fluid">
                                            </a>
                                            <a href="#" class="btn-icon btn-wishlist">
                                                <svg width="24" height="24" viewBox="0 0 24 24">
                                                    <use xlink:href="#heart"></use>
                                                </svg>
                                            </a>
                                            <div class="product-content">
                                                <h5 class="element-title text-uppercase fs-5 mt-3">
                                                    <a href="@Url.Action("Product","Catalog", new { slug = product.Slug })">@product.Name</a>
                                                </h5>
                                                <a href="@Url.Action("Product","Catalog", new { slug = product.Slug })" 
                                                   class="text-decoration-none" data-after="Agregar al carrito">
                                                    <span>@product.BasePrice.ToString("C")</span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>
                        <div class="swiper-pagination"></div>
                    </div>
                    
                    <div class="icon-arrow icon-arrow-left">
                        <svg width="50" height="50" viewBox="0 0 24 24">
                            <use xlink:href="#arrow-left"></use>
                        </svg>
                    </div>
                    <div class="icon-arrow icon-arrow-right">
                        <svg width="50" height="50" viewBox="0 0 24 24">
                            <use xlink:href="#arrow-right"></use>
                        </svg>
                    </div>
                }
                else
                {
                    <div class="text-center py-5">
                        <p class="text-muted">Próximamente tendremos nuevos productos</p>
                    </div>
                }
            </div>
        </section>

        
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <script src="~/js/home.js"></script>
</body>
</html>