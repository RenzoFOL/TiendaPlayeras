@model IEnumerable<TiendaPlayeras.Web.Models.OrderDemoItem>
@{
    ViewData["Title"] = "Mis pedidos";

    // Si en _Layout usas el flag para ocultar el logo/brand inferior:
    ViewBag.HideBottomLogo = true;

    Func<string, string> badge = (status) =>
    {
        status = (status ?? "").ToLowerInvariant();
        if (status.Contains("entregado")) return "success";
        if (status.Contains("enviado"))   return "primary";
        if (status.Contains("proceso"))   return "warning";
        if (status.Contains("cancel"))    return "danger";
        return "secondary";
    };
}

<div class="container-xxl py-4">
  <!-- Encabezado: t√≠tulo + bot√≥n volver -->
  <div class="d-flex align-items-center justify-content-between mb-2">
    <div>
      <h1 class="h3 m-0">Mis pedidos</h1>
      <p class="text-muted m-0">Aqu√≠ podr√°s consultar el estado y detalle de tus compras.</p>
    </div>

    <!-- Bot√≥n regresar (reemplaza a "Exportar") -->
    <div>
      <a class="btn btn-outline-dark" asp-controller="Home" asp-action="Index">
        ‚Üê Volver al inicio
      </a>
    </div>
  </div>

  <div class="card shadow-sm">
    <div class="card-body">
      <!-- Filtros -->
      <div class="row g-2 align-items-center mb-3">
        <div class="col-sm-6 col-md-4">
          <input class="form-control" placeholder="Buscar por n√∫mero o estado" />
        </div>
        <div class="col-sm-6 col-md-3">
          <select class="form-select">
            <option value="">Todos los estados</option>
            <option>En proceso</option>
            <option>Enviado</option>
            <option>Entregado</option>
            <option>Cancelado</option>
          </select>
        </div>
        <div class="col-md-5 text-md-end">
          <div class="btn-group" role="group" aria-label="Filtros r√°pidos">
            <button class="btn btn-outline-secondary btn-sm active">Todos</button>
            <button class="btn btn-outline-secondary btn-sm">√öltimos 30 d√≠as</button>
            <button class="btn btn-outline-secondary btn-sm">Este a√±o</button>
          </div>
        </div>
      </div>

      @if (Model == null || !Model.Any())
      {
        <div class="text-center text-muted py-5">
          <div class="display-6">üß∫</div>
          <p class="mt-2 mb-0">A√∫n no tienes pedidos.</p>
          <small>Cuando compres, aparecer√°n aqu√≠.</small>
        </div>
      }
      else
      {
        <div class="table-responsive">
          <table class="table align-middle">
            <thead class="table-light">
              <tr>
                <th style="width: 160px;">Pedido</th>
                <th style="width: 160px;">Fecha</th>
                <th>Estado</th>
                <th class="text-center" style="width: 120px;">Art√≠culos</th>
                <th class="text-end" style="width: 160px;">Total</th>
                <th class="text-end" style="width: 160px;">Acciones</th>
              </tr>
            </thead>
            <tbody>
              @foreach (var o in Model)
              {
                <tr>
                  <td><strong>@o.OrderNumber</strong></td>
                  <td>@o.Date.ToString("dd/MM/yyyy")</td>
                  <td><span class="badge bg-@badge(o.Status)">@o.Status</span></td>
                  <td class="text-center">@o.Items</td>
                  <td class="text-end">@o.Total.ToString("C")</td>
                  <td class="text-end">
                    <a class="btn btn-sm btn-outline-dark disabled" tabindex="-1" aria-disabled="true">Ver detalle</a>
                  </td>
                </tr>
              }
            </tbody>
          </table>
        </div>
      }
    </div>
  </div>

  <!-- Bot√≥n volver al final (√∫til en m√≥vil) -->
  <div class="mt-3 d-md-none">
    <a class="btn btn-outline-dark w-100" asp-controller="Home" asp-action="Index">
      ‚Üê Volver al inicio
    </a>
  </div>
</div>

@section Styles{
  <style>
    .badge { font-weight: 500; }
  </style>
}